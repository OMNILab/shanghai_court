<style>
#plot11 {
    width: 100%;
    height: 250px;
    margin-bottom: 30px;
}

#plot12 {
    width: 100%;
    height: 250px;
    margin-bottom: 30px;
}

#plot13 {
    width: 100%;
    height: 250px;
    margin-bottom: 30px;
}

#plot2 {
    width: 100%;
    height: 250px;
    margin-bottom: 30px;
}

#plot31 {
    width: 100%;
    height: 400px;
    margin-bottom: 30px;
    text-align: center;
}

#plot31 circle.active {
    fill: #888;
}

#plot31 circle#compare {
    fill: #0b93e3;
}

#plot31 circle#selected {
    fill: rgb(244, 64, 117);
}

#plot32 {
    width: 100%;
    height: 400px;
    margin-bottom: 30px;
}

#plot32 rect.corr:hover {
    cursor: pointer;
    stroke: #000;
}

#plot41 {
    background-color: #30323C;
    padding: 30px;
    border-radius: 5px;
    text-align: center;
    margin-bottom: 30px;
}

#plot41 select {
    display: inline-block;
    width: 80%;
    padding: 5px 10px;
    color: #f2f2f2;
    background-color: #44464F;
    border-color: #333;
    box-shadow: none;
    font-size: 12px;
    margin-bottom: 20px;
}

#plot41 #search {
    width: 80%;
    padding: 5px 10px;
    color: #f2f2f2;
    background-color: #0b93e3;
    border-color: #333;
    box-shadow: none;
    font-size: 18px;
}

#plot42 {
    border: 1px solid #B4B5BB;
    border-radius: 5px;
    padding: 30px;
    height: 269px;
    margin-bottom: 30px;
}

#plot42 #count {
    margin-top: 0;
    font-size: 24px;
    color: #5A6779;
    border-left: 4px solid #F44075;
    padding-left: 10px;
    margin-bottom: 20px;
}

#plot42 .cell {
    font-size: 12px;
    display: inline-block;
    padding: 6px 8px;
    background-color: rgb(244, 64, 117);
    border-radius: 2px;
    color: white;
    margin: 5px;
    border: 1px solid rgb(244, 64, 117);
    transition: color, background-color .4s;
    -o-transition: color, background-color .4s;
    -ms-transition: color, background-color .4s;
    -moz-transition: color, background-color .4s;
    -webkit-transition: color, background-color .4s;
}
#plot42 .cell.active {
    background-color: white;
    color: rgb(244, 64, 117);
}

#plot42 .cell:hover {
    cursor: pointer;
    background-color: white;
    color: rgb(244, 64, 117);
}

#plot51 {
    width: 100%;
    height: 500px;
    border: 1px solid #B4B5BB;
    border-radius: 5px;
    padding: 20px;
}

#fees {
    position: absolute;
    bottom: 1px;
    margin-left: 1px;
    margin-right: 16px;
    padding: 10px;
    background-color: rgba(50,50,50,0.7);
    font-size: 12px;
    color: #fff;
    display: none;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
}

#plot52 {
    width: 100%;
    height: 500px;
    background-color: #30323C;
    border-radius: 5px;
    padding: 30px;
}

#plot52 h4 {
    margin-top: 0;
    font-size: 24px;
    color: #fff;
    border-left: 4px solid #0b93e3;
    padding-left: 10px;
    margin-bottom: 25px;
}

#plot52 #cases {
    text-align: center;
}

#plot52 .case {
    font-size: 12px;
    display: inline-block;
    padding: 5px 8px;
    background-color: #30323C;
    border-radius: 2px;
    color: white;
    margin: 5px;
    border: 1px solid white;
    transition: color, background-color .4s;
    -o-transition: color, background-color .4s;
    -ms-transition: color, background-color .4s;
    -moz-transition: color, background-color .4s;
    -webkit-transition: color, background-color .4s;
}

#plot52 .case:hover {
    cursor: pointer;
    background-color: white;
    color: #30323C;
}
</style>
<div class="row">
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div id="plot11"></div>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div id="plot12"></div>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div id="plot13"></div>
    </div>
</div>
<div id="plot2"></div>
<div class="row">
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div id="plot31">
            <svg width="500px" height="400px">
                <g></g>
            </svg>
        </div>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div id="plot32">
            <svg width="500px" height="400px">
                <g></g>
            </svg>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div id="plot41">
            <select class="form-control" name="year">
                <option value="2015">2015</option>
                <option value="2014">2014</option>
                <option value="2013">2013</option>
            </select>
            <select class="form-control" name="area">
                <option value="奉贤">奉贤</option>
                <option value="金山">金山</option>
                <option value="静安">静安</option>
                <option value="嘉定">嘉定</option>
                <option value="宝山">宝山</option>
                <option value="松江">松江</option>
                <option value="普陀">普陀</option>
                <option value="虹口">虹口</option>
                <option value="浦东">浦东</option>
                <option value="沪铁">沪铁</option>
                <option value="闵行">闵行</option>
                <option value="青浦">青浦</option>
                <option value="徐汇">徐汇</option>
                <option value="崇明">崇明</option>
                <option value="黄浦">黄浦</option>
                <option value="杨浦">杨浦</option>
                <option value="长宁">长宁</option>
            </select>
            <select class="form-control" name="result" style="margin-bottom:30px;">
                <option value="判决结案">判决结案</option>
                <option value="调解结案">调解结案</option>
                <option value="裁定结案">裁定结案</option>
            </select>
            <span class="btn btn-default" id="search"><span class="fa fa-fw fa-search"></span></span>
        </div>
    </div>
    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
        <div id="plot42">
            <h4 id="count">案件数量 {$count}</h4>
            <div id="cells">
                <foreach name="records" item="v">
                    <div class="cell" name="{$v['id']}">
                        {$v.title}
                    </div>
                </foreach>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-7">
        <div id="plot51">
        </div>
        <div id="fees"></div>
    </div>
    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">
        <div id="plot52">
        	<h4>相似案例</h4>
            <div id="cases"></div>
        </div>
    </div>
</div>
<script>
$(document).ready(function() {
    var plot11 = echarts.init(document.getElementById('plot11'), 'macarons');
    var option = {
        title: {
            text: '文本数据统计',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        series: [{
            name: '文本数据统计',
            type: 'pie',
            radius: '60%',
            center: ['50%', '55%'],
            data: [{
                value: 16133,
                name: '庭审笔录'
            }, {
                value: 42563,
                name: '法律文书'
            }],
            itemStyle: {
                emphasis: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    };
    plot11.setOption(option);

    var plot12 = echarts.init(document.getElementById('plot12'), 'macarons');
    option = {
        title: {
            text: '庭审笔录统计',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        series: [{
            name: '庭审笔录统计',
            type: 'pie',
            radius: '60%',
            center: ['50%', '55%'],
            data: [{
                value: 255,
                name: '裁定结案'
            }, {
                value: 1893,
                name: '调解结案'
            }, {
                value: 13985,
                name: '判决结案'
            }],
            itemStyle: {
                emphasis: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    };
    plot12.setOption(option);

    var plot13 = echarts.init(document.getElementById('plot13'), 'macarons');
    option = {
        title: {
            text: '法律文书统计',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        series: [{
            name: '法律文书统计',
            type: 'pie',
            radius: '60%',
            center: ['50%', '55%'],
            data: [{
                value: 1471,
                name: '裁定结案'
            }, {
                value: 16505,
                name: '调解结案'
            }, {
                value: 24587,
                name: '判决结案'
            }],
            itemStyle: {
                emphasis: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    };
    plot13.setOption(option);

    var plot2 = echarts.init(document.getElementById('plot2'), 'macarons');
    option = {
        title: {
            text: '案件区域统计',
            x: 'center'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: { // 坐标轴指示器，坐标轴触发有效
                type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        legend: {
            data: ['金山', '静安', '嘉定', '宝山', '松江', '普陀', '虹口', '浦东', '沪铁', '闵行', '青浦', '徐汇', '崇明', '黄浦', '杨浦', '奉贤', '长宁']
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            top: '15%',
            containLabel: true
        },
        xAxis: [{
            type: 'category',
            data: ['金山', '静安', '嘉定', '宝山', '松江', '普陀', '虹口', '浦东', '沪铁', '闵行', '青浦', '徐汇', '崇明', '黄浦', '杨浦', '奉贤', '长宁']
        }],
        yAxis: [{
            type: 'value'
        }],
        series: [{
            name: '案件数量',
            type: 'bar',
            data: [1324, 432, 619, 1379, 1174, 275, 6, 4234, 133, 2288, 1222, 3, 1052, 405, 472, 813, 302]
        }]
    };
    plot2.setOption(option);

    var plot31_width = 500;
    var plot31_height = 400;
    $.ajax({
        url: '{:U("Index/points")}',
        type: 'POST',
        dataType: 'json',
        data: {},
    })
    .done(function(data) {
        d3.select("#plot31 svg g").selectAll('circle').data(data).enter().append('circle').attr({
            cx: function(d){
                return d.x * (plot31_width - 60) + 30 - 3;
            },
            cy: function(d){
                return (1 - d.y) * (plot31_height - 60) + 30 - 3;
            },
            r: 3,
            fill: '#ddd',
            name: function(d){
                return d.id;
            },
            'class': function(d){
                if (d.area == '奉贤' && d.year == 2015 && d.result == '判决结案') {
                    return 'active';
                }
                else {
                    return '';
                }
            }
        });
    })
    .fail(function() {
    })
    .always(function() {
    });

    var plot32_fees = ['代理费', '赔偿金', '鉴定费', '受理费', '诉讼费', '律师费', '误工费', '抚慰金', '交通费', '伙食费', '护理费', '医疗费', '营养费', '补助费', '损失费', '修理费', '评估费', '住院费', '丧葬费', '维修费', '物损费', '医药费', '治疗费', '保险金', '住宿费', '生活费', '停车费', '精神损失费', '诊疗费', '运费', '杂费', '服务费', '互助金', '手术费', '租车费', '养老金', '出租车费'];
    var plot32_axis = [];
    for (var i = 0; i < plot32_fees.length + 1; i++) {
        plot32_axis.push(1);
    }
    var plot32_matrix = [1.0, 0.116623662824, 0.144206568971, 0.0100660643123, 0.126402378996, -0.0887483169611, 0.0990049322861, 0.108891496858, 0.132248492356, 0.0401026056909, 0.140123190613, 0.161940036521, 0.131071985869, 0.115283000142, 0.11786017892, 0.0305144656332, -0.0415793464202, -0.0216579623594, -0.00781035138214, -0.0554629987617, 0.0573181336028, -0.0174907150712, 0.00450412786439, -0.0312109222793, -0.00451472562896, -0.00373393751664, 0.0020098508018, -0.0168063921928, 0.0606083513732, -0.0311904870598, -0.0299768030505, 0.0338044589654, 0.0112275692924, -0.0200680164724, -0.012496404823, 0.0170646581272, -0.0107673399667, 0.116623662824, 1.0, 0.504299124064, -0.0784198408435, 0.0447682029514, 0.393330926411, 0.404215841599, 0.834513964594, 0.487708897083, 0.281787524897, 0.532936950188, 0.307423808385, 0.531068472914, 0.45644112081, 0.174473581539, -0.0233775821173, -0.125615452357, 0.19729490656, 0.157271511388, -0.0792742864518, 0.124240347303, 0.141409569567, 0.0947366001499, 0.0503779979189, 0.103057611956, 0.126927491984, 0.0531795640907, 0.0283907004556, -0.0217047961589, 0.0161567647492, 0.0710271659225, 0.0023524896922, 0.0544562523338, 0.0453829650923, -0.0269396313133, 0.0418993205965, -0.0124403331946, 0.144206568971, 0.504299124064, 1.0, -0.0726623316504, 0.064487908604, 0.425149563303, 0.484676497052, 0.533949784858, 0.54637473212, 0.225268673721, 0.78598090709, 0.476369097604, 0.793042837013, 0.336509759399, 0.211451187215, 0.0616074063915, -0.120872245869, 0.135332051055, -0.348019695285, -0.0390539072292, 0.112378113892, 0.161369230303, 0.0743301712189, 0.0369077030716, -0.120316878729, -0.158873167, 0.0869861695827, 0.0190482993918, 0.0193838096215, 0.0158309027359, 0.0561625620811, 0.00126168264701, 0.00970428101984, 0.0287253269471, -0.0166667695777, -0.00710965536572, 0.00952707171462, 0.0100660643123, -0.0784198408435, -0.0726623316504, 1.0, -0.0574032797061, -0.0945202899511, -0.0646401661005, -0.0711759470851, -0.0316347119708, -0.065980066532, -0.0668085888564, 0.00919665705429, -0.060388641272, -0.0170321998365, -0.0266377159355, 0.0373758909741, -0.00313013617524, -0.0586903796602, -0.0209985485082, 0.0321533610665, 0.0013775556183, -0.0688741016767, 0.0251807549168, -0.0169146108591, -0.028572727372, -0.0256575787166, -0.0360193202132, -0.00944734533054, 0.0399354601172, -0.0275547689501, 0.00234401296047, 0.0310514507911, -0.0164819477279, 0.0154326679026, -0.0117996813753, 0.00980539655403, -0.0136254318585, 0.126402378996, 0.0447682029514, 0.064487908604, -0.0574032797061, 1.0, 0.0255779898906, 0.0581527737588, 0.0890882867638, 0.0880970283914, -0.0203250972683, 0.0483538236997, 0.0285993668242, 0.0530395010659, 0.01499773933, 0.0131917993204, 0.0320849603189, 0.00617921990396, 0.0377645293443, 0.00955900468582, 0.0346122408732, -0.0270347253165, 0.138781490495, -0.0309031863393, -0.0112776181303, 0.00326707715074, -0.00343656592892, 0.0156165467718, 0.000997396678481, 0.103936247714, -0.0150980718975, -0.0341451083632, -0.0380111639818, 0.0320161387397, 0.0309217011827, 0.0353203763711, -0.00363213128515, 0.0398001263931, -0.0887483169611, 0.393330926411, 0.425149563303, -0.0945202899511, 0.0255779898906, 1.0, 0.316652873738, 0.395398508755, 0.417232013664, 0.160157587652, 0.417913628109, 0.304895606308, 0.407801134748, 0.228704028442, 0.10066944958, -0.0188501532369, -0.108545955175, 0.141696601082, 0.028380203553, -0.0368824340054, 0.0298111143339, 0.183592240689, 0.0439478310486, 0.0545569109715, 0.0279758691365, 0.0312558633405, 0.0521396590808, 0.0142009956437, 0.0174356089378, 0.0282246912449, 0.0392269576659, 0.00392200493895, 0.0314480491945, 0.0220007987989, 0.00245348269301, -0.00576845869792, 0.0126947542423, 0.0990049322861, 0.404215841599, 0.484676497052, -0.0646401661005, 0.0581527737588, 0.316652873738, 1.0, 0.413370558142, 0.53503541186, 0.109787781034, 0.560230712138, 0.349834243514, 0.578289150977, 0.218780164914, 0.17282826012, 0.0906194763668, -0.0963304125753, 0.0936749563018, 0.060551624645, -0.0193589658977, 0.109273434097, 0.131523112495, 0.0353448244615, 0.037489531596, 0.0766494650603, 0.0630561810406, 0.0872173794498, 0.0398040887451, -0.000291668016516, 0.0316988594476, 0.0247820266207, -0.0013561133835, 0.0254489236641, 0.0206473079244, 0.0182314787389, 0.0441994468061, 0.0319038416937, 0.108891496858, 0.834513964594, 0.533949784858, -0.0711759470851, 0.0890882867638, 0.395398508755, 0.413370558142, 1.0, 0.512024839252, 0.265952530441, 0.54592303738, 0.343779347285, 0.547199747524, 0.430690615727, 0.165499040944, -0.015142685334, -0.129101339974, 0.17168395511, 0.136400058062, -0.0716281080229, 0.136905164209, 0.138698109265, 0.0912686245222, 0.0475960551494, 0.0971398644142, 0.102378331162, 0.0619252240932, 0.00165285610822, -0.00162750199466, 0.0233575204498, 0.063880705215, 0.00336504000765, 0.0486573483582, 0.0367476008983, -0.0164266026263, 0.0436404978304, 0.000753551551396, 0.132248492356, 0.487708897083, 0.54637473212, -0.0316347119708, 0.0880970283914, 0.417232013664, 0.53503541186, 0.512024839252, 1.0, 0.201681585626, 0.64805903301, 0.509664126013, 0.650884258162, 0.373571905761, 0.212530509374, -0.00848971822953, -0.164178298704, 0.138578588723, 0.0378283390194, -0.0847249287599, 0.128340515138, 0.17317542801, 0.0829671190344, 0.0349841707705, 0.0848845621626, 0.0343003231535, 0.0619072523844, 0.0362805376667, -0.00931807386723, 0.0119993285659, 0.0461148418727, 0.00774369616094, 0.0279894396469, 0.0293082311277, 0.0329756895892, 0.0144775106575, 0.0536777835711, 0.0401026056909, 0.281787524897, 0.225268673721, -0.065980066532, -0.0203250972683, 0.160157587652, 0.109787781034, 0.265952530441, 0.201681585626, 1.0, 0.258320001767, 0.223637228626, 0.248312066933, 0.377479991418, 0.0779485279118, -0.00940691404708, -0.0608197046049, 0.216126062594, -0.0995935665064, -0.0248388985548, 0.0551188015181, 0.0541464109309, 0.0983831740745, 0.023476923719, -0.0120810906737, -0.0370632865428, 0.0546956000782, -0.00211771972141, -0.0133863489013, 0.0305524089652, 0.067206914169, 0.0510448932465, 0.049258790297, 0.0319018509078, -0.00687874015541, -0.00651183458392, 0.00518539422169, 0.140123190613, 0.532936950188, 0.78598090709, -0.0668085888564, 0.0483538236997, 0.417913628109, 0.560230712138, 0.54592303738, 0.64805903301, 0.258320001767, 1.0, 0.536859881795, 0.927705188315, 0.425520316159, 0.239136872932, 0.0344652151828, -0.177780735012, 0.166221382412, -0.284659258181, -0.0790004810937, 0.133087335303, 0.180166258252, 0.0832830643799, 0.0460535553124, -0.0948062759742, -0.144657416553, 0.0834498498276, 0.0281180304591, -0.0016758543537, 0.0116029780909, 0.0620966824055, 0.0161121844171, 0.0219230886724, 0.036355834567, -0.00230700529439, -0.000169327253926, 0.0298904900452, 0.161940036521, 0.307423808385, 0.476369097604, 0.00919665705429, 0.0285993668242, 0.304895606308, 0.349834243514, 0.343779347285, 0.509664126013, 0.223637228626, 0.536859881795, 1.0, 0.525616990689, 0.340524724054, 0.128377195243, -0.0524737771324, -0.217965051863, 0.115908712417, -0.140909788052, -0.138765241473, 0.121916956744, -0.00433441273098, 0.100115670019, 0.0360166136405, -0.048747472339, -0.0725536134886, 0.0309936795619, 0.0141805334611, 0.0546136769588, -0.00424332554231, 0.0475046865001, 0.000599279599807, 0.0389580363447, 0.0204845275829, -0.0457169653966, 0.00332600201204, -0.0257037940475, 0.131071985869, 0.531068472914, 0.793042837013, -0.060388641272, 0.0530395010659, 0.407801134748, 0.578289150977, 0.547199747524, 0.650884258162, 0.248312066933, 0.927705188315, 0.525616990689, 1.0, 0.417934444457, 0.243836237313, 0.0415592542179, -0.169721332162, 0.155832451154, -0.311568463754, -0.069316261637, 0.136763971301, 0.176348751442, 0.0805953442101, 0.0469010907774, -0.10500153262, -0.157637912255, 0.0805929415526, 0.0378384949609, -0.000459230752973, 0.013385990068, 0.0613777815286, 0.00241017757397, 0.0156764008019, 0.0357708923346, -0.00470286345624, -0.00075658539068, 0.0263679041171, 0.115283000142, 0.45644112081, 0.336509759399, -0.0170321998365, 0.01499773933, 0.228704028442, 0.218780164914, 0.430690615727, 0.373571905761, 0.377479991418, 0.425520316159, 0.340524724054, 0.417934444457, 1.0, 0.135945398223, -0.0538918783203, -0.109516985747, 0.299448882906, -0.145073085538, -0.0877480311992, 0.120026876531, 0.113809155337, 0.140885215705, 0.044800567908, -0.0182317958504, -0.0567390261645, 0.0393845125026, -0.00707562047672, -0.00836817873682, 0.0110867673321, 0.083238823546, 0.0188843083864, 0.0564554397229, 0.0717224821616, -0.00524021888199, 0.0114261432277, 0.0121293363161, 0.11786017892, 0.174473581539, 0.211451187215, -0.0266377159355, 0.0131917993204, 0.10066944958, 0.17282826012, 0.165499040944, 0.212530509374, 0.0779485279118, 0.239136872932, 0.128377195243, 0.243836237313, 0.135945398223, 1.0, 0.071905756052, -0.0123188011579, 0.0336558334518, -0.0226602834942, 0.0290944821272, -0.0834885423692, 0.00874466872728, 0.0432934704326, 0.0731383595117, -0.029828514438, -0.0200045970511, 0.0388363459689, 0.209132804096, -0.0640987090115, -0.0133114568844, -0.00525701354043, 0.032774750912, 0.0056627782475, 0.00298062581519, 0.0413536390035, -0.0120179677877, 0.0498214412232, 0.0305144656332, -0.0233775821173, 0.0616074063915, 0.0373758909741, 0.0320849603189, -0.0188501532369, 0.0906194763668, -0.015142685334, -0.00848971822953, -0.00940691404708, 0.0344652151828, -0.0524737771324, 0.0415592542179, -0.0538918783203, 0.071905756052, 1.0, 0.212340574771, -0.00442119930083, -0.0792207756587, 0.151753560765, -0.000801708777283, -0.0371943099536, -0.000512582174522, 0.00955917935839, -0.0627753237493, -0.0517287634123, 0.164816585422, 0.00369905813214, 0.015680088688, 0.0585766382645, -0.00436350481982, 0.0103702503934, -0.0217455416536, -0.00675234798015, 0.0297292793224, -0.00987735554972, 0.0169443749024, -0.0415793464202, -0.125615452357, -0.120872245869, -0.00313013617524, 0.00617921990396, -0.108545955175, -0.0963304125753, -0.129101339974, -0.164178298704, -0.0608197046049, -0.177780735012, -0.217965051863, -0.169721332162, -0.109516985747, -0.0123188011579, 0.212340574771, 1.0, -0.043398981644, 0.0188371438886, 0.174023786866, -0.020145871582, -0.0484081243681, -0.029333786242, -0.000265160908021, 0.0277681979109, 0.0260100756357, 0.125116877399, -0.0104108274174, -0.0145035942125, 0.0116604801561, -0.00998308934689, 0.0164772640903, 0.0130854549406, -0.00598930761124, 0.0272884802235, -0.0114127381922, 0.0049374274091, -0.0216579623594, 0.19729490656, 0.135332051055, -0.0586903796602, 0.0377645293443, 0.141696601082, 0.0936749563018, 0.17168395511, 0.138578588723, 0.216126062594, 0.166221382412, 0.115908712417, 0.155832451154, 0.299448882906, 0.0336558334518, -0.00442119930083, -0.043398981644, 1.0, -0.0460716172512, -0.0384171622413, 0.00636806464225, 0.131848815221, 0.0894557967212, 0.0420399508731, 0.00221681486565, -0.00260638641563, 0.026352928018, -0.0174178256068, -0.0436844808394, -0.0000717990058, 0.0209048565852, -0.0030796235843, 0.0507853988726, 0.0442587366967, -0.0119822124597, -0.00531281970155, -0.00576162563844, -0.00781035138214, 0.157271511388, -0.348019695285, -0.0209985485082, 0.00955900468582, 0.028380203553, 0.060551624645, 0.136400058062, 0.0378283390194, -0.0995935665064, -0.284659258181, -0.140909788052, -0.311568463754, -0.145073085538, -0.0226602834942, -0.0792207756587, 0.0188371438886, -0.0460716172512, 1.0, -0.0386269090382, 0.0417989934555, -0.0274583637576, -0.0554515594158, 0.0187754320351, 0.411629964951, 0.516449856652, -0.0522410079028, 0.0149385645995, -0.0155932733469, -0.0093043373647, -0.00280636436506, 0.00620980305079, 0.0252888938716, -0.0275230901272, 0.0217877696168, 0.0774871813129, 0.00492567274673, -0.0554629987617, -0.0792742864518, -0.0390539072292, 0.0321533610665, 0.0346122408732, -0.0368824340054, -0.0193589658977, -0.0716281080229, -0.0847249287599, -0.0248388985548, -0.0790004810937, -0.138765241473, -0.069316261637, -0.0877480311992, 0.0290944821272, 0.151753560765, 0.174023786866, -0.0384171622413, -0.0386269090382, 1.0, -0.0250902985216, 0.00110046877909, -0.0305501200628, -0.00826619011367, -0.0180184758718, -0.0216038981651, 0.0877113799618, 0.0105690602372, -0.0264892227646, 0.050623566994, 0.013808937902, 0.000703153294849, -0.00865371934629, -0.0106357617104, 0.0257549566799, -0.011621259078, 0.0126292289636, 0.0573181336028, 0.124240347303, 0.112378113892, 0.0013775556183, -0.0270347253165, 0.0298111143339, 0.109273434097, 0.136905164209, 0.128340515138, 0.0551188015181, 0.133087335303, 0.121916956744, 0.136763971301, 0.120026876531, -0.0834885423692, -0.000801708777283, -0.020145871582, 0.00636806464225, 0.0417989934555, -0.0250902985216, 1.0, -0.0705637262131, 0.00923417022718, 0.028027123745, 0.0389365313768, 0.0536377301679, 0.0148016174992, 0.00282925392402, -0.0399237052736, 0.0388560741482, 0.0686534535419, -0.0013800860417, 0.00124205489692, 0.0343852494855, -0.00820959644417, 0.0290432687923, -0.0033685171674, -0.0174907150712, 0.141409569567, 0.161369230303, -0.0688741016767, 0.138781490495, 0.183592240689, 0.131523112495, 0.138698109265, 0.17317542801, 0.0541464109309, 0.180166258252, -0.00433441273098, 0.176348751442, 0.113809155337, 0.00874466872728, -0.0371943099536, -0.0484081243681, 0.131848815221, -0.0274583637576, 0.00110046877909, -0.0705637262131, 1.0, 0.00128633337149, -0.0120711681703, -0.00325047705151, -0.00523740397958, 0.0214190092261, 0.0308708829434, -0.0559323820683, 0.0133161326633, 0.0124821436659, -0.0170412430777, 0.02608523753, 0.0127363285168, 0.0316912623523, -0.00968388609484, 0.0401237229253, 0.00450412786439, 0.0947366001499, 0.0743301712189, 0.0251807549168, -0.0309031863393, 0.0439478310486, 0.0353448244615, 0.0912686245222, 0.0829671190344, 0.0983831740745, 0.0832830643799, 0.100115670019, 0.0805953442101, 0.140885215705, 0.0432934704326, -0.000512582174522, -0.029333786242, 0.0894557967212, -0.0554515594158, -0.0305501200628, 0.00923417022718, 0.00128633337149, 1.0, 0.0129057840976, 0.000674331146479, -0.0130119418044, 0.00643655308477, 0.0110358435459, -0.0259901855566, -0.0162471415, 0.0190829669278, 0.0342254651549, 0.0257581445925, 0.0372218344294, -0.00532942358371, 0.017081275322, -0.00097008655017, -0.0312109222793, 0.0503779979189, 0.0369077030716, -0.0169146108591, -0.0112776181303, 0.0545569109715, 0.037489531596, 0.0475960551494, 0.0349841707705, 0.023476923719, 0.0460535553124, 0.0360166136405, 0.0469010907774, 0.044800567908, 0.0731383595117, 0.00955917935839, -0.000265160908021, 0.0420399508731, 0.0187754320351, -0.00826619011367, 0.028027123745, -0.0120711681703, 0.0129057840976, 1.0, -0.000842957661247, -0.00121693334418, -0.00590928918923, 0.0324140616057, 0.0168956927708, 0.0032761782158, 0.0168956927708, -0.0134293133378, 0.00166129480347, -0.00463228245814, 0.00334264356501, -0.0123841596123, 0.00124206522909, -0.00451472562896, 0.103057611956, -0.120316878729, -0.028572727372, 0.00326707715074, 0.0279758691365, 0.0766494650603, 0.0971398644142, 0.0848845621626, -0.0120810906737, -0.0948062759742, -0.048747472339, -0.10500153262, -0.0182317958504, -0.029828514438, -0.0627753237493, 0.0277681979109, 0.00221681486565, 0.411629964951, -0.0180184758718, 0.0389365313768, -0.00325047705151, 0.000674331146479, -0.000842957661247, 1.0, 0.361246837032, -0.0024254273862, -0.00658300255584, -0.0166111504732, -0.00166818367265, 0.0461876037596, -0.00217305675542, 0.0624899097927, -0.01559274146, 0.0421837636995, 0.0285369326634, 0.0332908031294, -0.00373393751664, 0.126927491984, -0.158873167, -0.0256575787166, -0.00343656592892, 0.0312558633405, 0.0630561810406, 0.102378331162, 0.0343003231535, -0.0370632865428, -0.144657416553, -0.0725536134886, -0.157637912255, -0.0567390261645, -0.0200045970511, -0.0517287634123, 0.0260100756357, -0.00260638641563, 0.516449856652, -0.0216038981651, 0.0536377301679, -0.00523740397958, -0.0130119418044, -0.00121693334418, 0.361246837032, 1.0, -0.0225744763776, 0.0117783733409, -0.0151546154568, -0.00657469259156, 0.00687755239726, 0.0170651281909, 0.049460061967, -0.0055210919215, 0.0143071438614, 0.136574234887, 0.00930621595604, 0.0020098508018, 0.0531795640907, 0.0869861695827, -0.0360193202132, 0.0156165467718, 0.0521396590808, 0.0872173794498, 0.0619252240932, 0.0619072523844, 0.0546956000782, 0.0834498498276, 0.0309936795619, 0.0805929415526, 0.0393845125026, 0.0388363459689, 0.164816585422, 0.125116877399, 0.026352928018, -0.0522410079028, 0.0877113799618, 0.0148016174992, 0.0214190092261, 0.00643655308477, -0.00590928918923, -0.0024254273862, -0.0225744763776, 1.0, -0.0018447245131, 0.0101936098396, 0.147345437555, 0.0231000341887, 0.0246839365467, 0.02173784241, 0.00540360784122, 0.0491141729122, -0.00609125954786, 0.0550651051765, -0.0168063921928, 0.0283907004556, 0.0190482993918, -0.00944734533054, 0.000997396678481, 0.0142009956437, 0.0398040887451, 0.00165285610822, 0.0362805376667, -0.00211771972141, 0.0281180304591, 0.0141805334611, 0.0378384949609, -0.00707562047672, 0.209132804096, 0.00369905813214, -0.0104108274174, -0.0174178256068, 0.0149385645995, 0.0105690602372, 0.00282925392402, 0.0308708829434, 0.0110358435459, 0.0324140616057, -0.00658300255584, 0.0117783733409, -0.0018447245131, 1.0, -0.0159688362486, -0.012526849708, -0.0159688362486, -0.00719492457267, -0.00953760086985, -0.00641963523763, 0.00121858960376, -0.00442247601686, 0.00471357539815, 0.0606083513732, -0.0217047961589, 0.0193838096215, 0.0399354601172, 0.103936247714, 0.0174356089378, -0.000291668016516, -0.00162750199466, -0.00931807386723, -0.0133863489013, -0.0016758543537, 0.0546136769588, -0.000459230752973, -0.00836817873682, -0.0640987090115, 0.015680088688, -0.0145035942125, -0.0436844808394, -0.0155932733469, -0.0264892227646, -0.0399237052736, -0.0559323820683, -0.0259901855566, 0.0168956927708, -0.0166111504732, -0.0151546154568, 0.0101936098396, -0.0159688362486, 1.0, -0.00758758592304, 0.00047230035175, -0.00251679397902, 0.00388825495124, -0.0116598789212, -0.00834719982348, -0.000512572931148, -0.00576301453554, -0.0311904870598, 0.0161567647492, 0.0158309027359, -0.0275547689501, -0.0150980718975, 0.0282246912449, 0.0316988594476, 0.0233575204498, 0.0119993285659, 0.0305524089652, 0.0116029780909, -0.00424332554231, 0.013385990068, 0.0110867673321, -0.0133114568844, 0.0585766382645, 0.0116604801561, -0.0000717990058, -0.0093043373647, 0.050623566994, 0.0388560741482, 0.0133161326633, -0.0162471415, 0.0032761782158, -0.00166818367265, -0.00657469259156, 0.147345437555, -0.012526849708, -0.00758758592304, 1.0, 0.00857656927483, -0.00358082001692, -0.011702719995, -0.0125837685085, -0.00781745883191, -0.00556328047866, -0.00592714062347, -0.0299768030505, 0.0710271659225, 0.0561625620811, 0.00234401296047, -0.0341451083632, 0.0392269576659, 0.0247820266207, 0.063880705215, 0.0461148418727, 0.067206914169, 0.0620966824055, 0.0475046865001, 0.0613777815286, 0.083238823546, -0.00525701354043, -0.00436350481982, -0.00998308934689, 0.0209048565852, -0.00280636436506, 0.013808937902, 0.0686534535419, 0.0124821436659, 0.0190829669278, 0.0168956927708, 0.0461876037596, 0.00687755239726, 0.0231000341887, -0.0159688362486, 0.00047230035175, 0.00857656927483, 1.0, 0.00280062114812, 0.0226947713664, 0.0233922461525, 0.00425813322501, 0.00898732765267, 0.00354654361656, 0.0338044589654, 0.0023524896922, 0.00126168264701, 0.0310514507911, -0.0380111639818, 0.00392200493895, -0.0013561133835, 0.00336504000765, 0.00774369616094, 0.0510448932465, 0.0161121844171, 0.000599279599807, 0.00241017757397, 0.0188843083864, 0.032774750912, 0.0103702503934, 0.0164772640903, -0.0030796235843, 0.00620980305079, 0.000703153294849, -0.0013800860417, -0.0170412430777, 0.0342254651549, -0.0134293133378, -0.00217305675542, 0.0170651281909, 0.0246839365467, -0.00719492457267, -0.00251679397902, -0.00358082001692, 0.00280062114812, 1.0, 0.0292838358103, -0.0127544402252, 0.0181994969403, 0.0120156923713, 0.00547384290095, 0.0112275692924, 0.0544562523338, 0.00970428101984, -0.0164819477279, 0.0320161387397, 0.0314480491945, 0.0254489236641, 0.0486573483582, 0.0279894396469, 0.049258790297, 0.0219230886724, 0.0389580363447, 0.0156764008019, 0.0564554397229, 0.0056627782475, -0.0217455416536, 0.0130854549406, 0.0507853988726, 0.0252888938716, -0.00865371934629, 0.00124205489692, 0.02608523753, 0.0257581445925, 0.00166129480347, 0.0624899097927, 0.049460061967, 0.02173784241, -0.00953760086985, 0.00388825495124, -0.011702719995, 0.0226947713664, 0.0292838358103, 1.0, 0.00490567145506, 0.00811583238439, -0.0133142213773, 0.0121331340486, -0.0200680164724, 0.0453829650923, 0.0287253269471, 0.0154326679026, 0.0309217011827, 0.0220007987989, 0.0206473079244, 0.0367476008983, 0.0293082311277, 0.0319018509078, 0.036355834567, 0.0204845275829, 0.0357708923346, 0.0717224821616, 0.00298062581519, -0.00675234798015, -0.00598930761124, 0.0442587366967, -0.0275230901272, -0.0106357617104, 0.0343852494855, 0.0127363285168, 0.0372218344294, -0.00463228245814, -0.01559274146, -0.0055210919215, 0.00540360784122, -0.00641963523763, -0.0116598789212, -0.0125837685085, 0.0233922461525, -0.0127544402252, 0.00490567145506, 1.0, 0.00106884653978, 0.0101490403049, 0.00456297163014, -0.012496404823, -0.0269396313133, -0.0166667695777, -0.0117996813753, 0.0353203763711, 0.00245348269301, 0.0182314787389, -0.0164266026263, 0.0329756895892, -0.00687874015541, -0.00230700529439, -0.0457169653966, -0.00470286345624, -0.00524021888199, 0.0413536390035, 0.0297292793224, 0.0272884802235, -0.0119822124597, 0.0217877696168, 0.0257549566799, -0.00820959644417, 0.0316912623523, -0.00532942358371, 0.00334264356501, 0.0421837636995, 0.0143071438614, 0.0491141729122, 0.00121858960376, -0.00834719982348, -0.00781745883191, 0.00425813322501, 0.0181994969403, 0.00811583238439, 0.00106884653978, 1.0, -0.000872477426353, 0.899814516865, 0.0170646581272, 0.0418993205965, -0.00710965536572, 0.00980539655403, -0.00363213128515, -0.00576845869792, 0.0441994468061, 0.0436404978304, 0.0144775106575, -0.00651183458392, -0.000169327253926, 0.00332600201204, -0.00075658539068, 0.0114261432277, -0.0120179677877, -0.00987735554972, -0.0114127381922, -0.00531281970155, 0.0774871813129, -0.011621259078, 0.0290432687923, -0.00968388609484, 0.017081275322, -0.0123841596123, 0.0285369326634, 0.136574234887, -0.00609125954786, -0.00442247601686, -0.000512572931148, -0.00556328047866, 0.00898732765267, 0.0120156923713, -0.0133142213773, 0.0101490403049, -0.000872477426353, 1.0, 0.00214295301943, -0.0107673399667, -0.0124403331946, 0.00952707171462, -0.0136254318585, 0.0398001263931, 0.0126947542423, 0.0319038416937, 0.000753551551396, 0.0536777835711, 0.00518539422169, 0.0298904900452, -0.0257037940475, 0.0263679041171, 0.0121293363161, 0.0498214412232, 0.0169443749024, 0.0049374274091, -0.00576162563844, 0.00492567274673, 0.0126292289636, -0.0033685171674, 0.0401237229253, -0.00097008655017, 0.00124206522909, 0.0332908031294, 0.00930621595604, 0.0550651051765, 0.00471357539815, -0.00576301453554, -0.00592714062347, 0.00354654361656, 0.00547384290095, 0.0121331340486, 0.00456297163014, 0.899814516865, 0.00214295301943, 1.0];

    d3.select('#plot32 svg g').selectAll('rect.corr').data(plot32_matrix).enter().append('rect').attr({
        width: 9,
        height: 9,
        fill: function(d) {
            if (d > 0) {
                return 'rgba(244,64,117,' + Math.sqrt(Math.abs(d)) + ')';
            } else {
                return 'rgba(11,147,227,' + Math.sqrt(Math.abs(d)) + ')';
            }
        },
        'transform': function(d, i) {
            return 'translate(' + (i % plot32_fees.length * 10 + 1) + ',' + (Math.floor(i / plot32_fees.length) * 10 + 1) + ')';
        },
        'class': 'corr',
        'name': function(d, i) {
            return i % plot32_fees.length + ',' + Math.floor(i / plot32_fees.length);
        }
    });
    d3.select('#plot32 svg g').selectAll('line.x').data(plot32_axis).enter().append('line').attr({
        x1: function(d, i) {
            return i * 10;
        },
        y1: 0,
        x2: function(d, i) {
            return i * 10;
        },
        y2: 370,
        stroke: '#fff',
        'stroke-width': 1,
        'shape-rendering': 'crispEdges',
        'class': 'x'
    });
    d3.select('#plot32 svg g').selectAll('line.y').data(plot32_axis).enter().append('line').attr({
        y1: function(d, i) {
            return i * 10;
        },
        x1: 0,
        y2: function(d, i) {
            return i * 10;
        },
        x2: 370,
        stroke: '#fff',
        'stroke-width': 1,
        'shape-rendering': 'crispEdges',
        'class': 'y'
    });
    d3.select('#plot32 svg g').selectAll('text.x').data(plot32_fees).enter().append('text').attr({
        'font-size': '12px',
        'fill': '#5a6779',
        'transform': function(d, i) {
            return 'translate(' + i * 10 + ',' + 390 + ')';
        },
        'name': function(d, i) {
            return i;
        },
        'class': 'x',
        'fill-opacity': 0
    }).text(function(d) {
        return d;
    });
    d3.select('#plot32 svg g').selectAll('text.y').data(plot32_fees).enter().append('text').attr({
        'font-size': '12px',
        'fill': '#5a6779',
        'transform': function(d, i) {
            return 'translate(' + 380 + ',' + (i * 10 + 12) + ')';
        },
        'name': function(d, i) {
            return i;
        },
        'class': 'y',
        'fill-opacity': 0
    }).text(function(d) {
        return d;
    });
    $('#main #plot32').on('mouseenter', 'rect.corr', function(event) {
        event.preventDefault();
        var tmp = $(this).attr('name').split(',');
        $('#main #plot32 text').attr('fill-opacity', 0);
        $('#main #plot32 text.x[name="' + tmp[0] + '"]').attr('fill-opacity', 1);
        $('#main #plot32 text.y[name="' + tmp[1] + '"]').attr('fill-opacity', 1);
    });
    $('#main #plot32').on('mouseleave', 'rect.corr', function(event) {
        event.preventDefault();
        $('#main #plot32 text').attr('fill-opacity', 0);
    });


    $('#main #plot41 select').change(function(event) {
        $('#plot31 svg g circle').attr('id', '').attr('r', 3);
        $('#plot42 .cell').removeClass('active');
        d3.selectAll('#plot31 svg g circle').attr('class', function(d){
            if (d.year == $('#main #plot41 select[name="year"]').val() && d.area == $('#main #plot41 select[name="area"]').val() && d.result == $('#main #plot41 select[name="result"]').val()) {
                return 'active';
            }
            else {
                return '';
            }
        });
    });
    $('#main #search').click(function() {
        var $search = $(this).children('span');
        $search.removeClass('fa-search').addClass('fa-spin').addClass('fa-spinner');
        $.ajax({
                url: '{:U("Index/search")}',
                type: 'POST',
                dataType: 'json',
                data: {
                    year: $('#main select[name="year"]').val(),
                    area: $('#main select[name="area"]').val(),
                    result: $('#main select[name="result"]').val(),
                },
            })
            .done(function(data) {
                $search.removeClass('fa-spinner').removeClass('fa-spin').addClass('fa-search');
                $('#plot42 #count').text('案件数量 ' + data['count']);
                $('#plot42 #cells').empty()
                for (var i = 0; i < data['data'].length; i++) {
                    $('#plot42 #cells').append("<div class='cell' name='" + data['data'][i]['id'] + "'>" + data['data'][i]['title'] + "</div>");
                }
            })
            .fail(function() {})
            .always(function() {});
    });

    var selected_id = -1;
    $('#main #plot42').on('click', '.cell', function(event) {
        event.preventDefault();
        $('#main #plot42 .cell').removeClass('active');
        $(this).addClass('active');
        $('#main #plot31 circle').attr('id', '').attr('r', 3);
        selected_id = $(this).attr('name');
        $('#main #plot31 circle[name="' + $(this).attr('name') + '"]').attr('id', 'selected').attr('r', 6);
        
        $.ajax({
            url: '{:U("Index/knowledge")}',
            type: 'POST',
            dataType: 'json',
            data: {
                id: $(this).attr('name')
            },
        })
        .done(function(data) {
            require(
                [
                    'echarts',
                    'echarts/chart/force'
                ],
                function(ec) {
                    var plot51 = ec.init(document.getElementById('plot51'), 'shine');
                    data['toolbox'] = {};
                    data['title'] = {};
                    plot51.setOption(data);
                }
            );
        })
        .fail(function() {
        })
        .always(function() {
        });

        $.ajax({
            url: '{:U("Index/fees")}',
            type: 'POST',
            dataType: 'json',
            data: {
                id: $(this).attr('name')
            },
        })
        .done(function(data) {
            $('#main #fees').text(data['fees']).show();
        })
        .fail(function() {
        })
        .always(function() {
        });

        $('#main #plot52 #cases').empty();
        $.ajax({
            url: '{:U("Index/cases")}',
            type: 'POST',
            dataType: 'json',
            data: {
                id: $(this).attr('name')
            },
        })
        .done(function(data) {
            for (var i = 0; i < data.length; i++) {
                $('#plot52 #cases').append("<div class='case' name='" + data[i][1]['id'] + "'>" + data[i][1]['title'] + "</div>");
            }
        })
        .fail(function() {
        })
        .always(function() {
        });
    });

    $('#main #plot52 #cases').on('mouseenter', '.case', function(event) {
        var tmp = $(this).attr('name');
        d3.selectAll('#main #plot31 circle').attr({
            r: function(d){
                if (d.id == selected_id || d.id == tmp) {
                    return 6;
                }
                else {
                    return 3;
                }
            },
            id: function(d){
                if (d.id == selected_id) {
                    return 'selected';
                }
                else if (d.id == tmp) {
                    return 'compare';
                }
                else {
                    return '';
                }
            }
        });
    });

    $('#main #plot52 #cases').on('mouseleave', '.case', function(event) {
        d3.selectAll('#main #plot31 circle').attr({
            r: function(d){
                if (d.id == selected_id) {
                    return 6;
                }
                else {
                    return 3;
                }
            },
            id: function(d){
                if (d.id == selected_id) {
                    return 'selected';
                }
                else {
                    return '';
                }
            }
        });
    });
});
</script>